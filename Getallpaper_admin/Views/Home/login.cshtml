@{
    Layout = null;
}
<!DOCTYPE html>
<html lang="en-US">
<head>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
          integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw=="
          crossorigin="anonymous" referrerpolicy="no-referrer" />
   @* <link href="~/Assets/Styles/styles.css" rel="stylesheet" />*@
    <link href="https://cdn.jsdelivr.net/npm/@@sweetalert2/theme-dark@4/dark.css" rel="stylesheet">
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <style>
        .loader-container {
            height: 100vh;
            width: 100%;
            background: #0000004a;
            position: absolute;
            top: 0;
            left: 0;
            backdrop-filter: brightness(0.5);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 99
        }
        .loader {
            border: 16px solid #f3f3f3;
            border-radius: 50%;
            border-top: 16px solid #7BDF8A;
            width: 80px;
            height: 80px;
            -webkit-animation: spin 2s linear infinite; /* Safari */
            animation: spin 2s linear infinite;
            z-index: 999
        }
        /* Safari */
        @@-webkit-keyframes spin {
            0% {
                -webkit-transform: rotate(0deg);
            }

            100% {
                -webkit-transform: rotate(360deg);
            }
        }
        @@keyframes spin {
            0% {
                transform: rotate(0deg);
            }

            100% {
                transform: rotate(360deg);
            }
        }
        .radio-active {
            background-color: #5354D1;
            color: #fff;
            padding: 0.5rem;
            border-radius: 10px;
            vertical-align: middle;
            align-items: center;
        }
        input[type='radio'] {
            accent-color: #fff;
        }
        .main {
            background: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url('./Assets/Images/home-page-hero-section.svg');
            background-size: cover;
            background-repeat: no-repeat;
            background-position: center;
            width: 100%;
            height: 100vh;
        }
        .heading {
            color: white;
            margin-top: 77px;
            margin-left: 2rem;
            font-size: -webkit-xxx-large;
        }
        .calculator {
            border: 0.1px solid #05ADA3;
            margin-top: 0rem;
            float: right;
            position: relative;
            width: 359px;
            height: fit-content;
            background-color: #FFFFFF;
            box-shadow: 0 4px 6px 0 rgba(0, 0, 0, 0.2), 0 2.5px 9px 0 rgba(0, 0, 0, 0.19);
            padding: 0.5vh;
            border-radius: 14px;
            color: #000;
        }
        .calculatormobile {
            border: 0.1px solid #05ADA3;
            margin-top: 0rem;
            position: relative;
            width: 50vh;
            height: 90vh;
            background-color: #FFFFFF;
            box-shadow: 0 4px 6px 0 rgba(0, 0, 0, 0.2), 0 2.5px 9px 0 rgba(0, 0, 0, 0.19);
            padding: 0.5vh;
            border-radius: 14px;
            color: #000;
        }
        .w3-animate-right {
            position: relative;
            animation: animateright 1s;
        }
        .calenderlabel {
            font-size: small;
            width: 20px;
        }
        .bgMain .imgContainer {
            margin-top: 8vh !important;
            width: 100% !important;
        }
        .justify-content-center {
            justify-content: center !important;
        }
        .input-size {
            width: 78%;
        }
        .input-size1 {
            width: 97%;
            margin: 4px;
            padding: 4px;
        }
        .containerbglight {
            background: #F2F9FF;
        }
        .loginwidth {
            margin-top: 8rem !important;
            margin: 1rem;
            background-color: #fff;
            box-shadow: 2px 2px 5px 5px rgb(197, 224, 223);
            border-radius: 10px;
        }
        @@media (max-width:480px) {
            .main {
                height: 150vh;
            }
        }
        @@media (max-width:290px) {
            .fold-screen {
                zoom: 75% !important;
            }
        }
    </style>
</head>
<body class="d-flex justify-content-center align-items-center w-100 loginheight fold-screen">
    <div id="divLoader" class="loader-container">
        <div class="loader"></div>
    </div>
    <section class="loginwidth pb-4">
        <div class="text-center pt-3">
        <img width="300" src="/logo-light.webp" />
        </div>
        <h4 class="text-center fw-bold pt-2 pb-2">Welcome to Getallpaper</h4>
        <form method="post" id="login-form">
            <div class="text-center">
                <input class="m-3 p-3" type="email" placeholder="Email Address" id="email"
                       style="color:#A1A3A4; width:90% ; border: 0.5px solid #0D2436;border-radius:8px ;" required>
                <input class="m-2 p-3" type="password" placeholder="Password" id="password"
                       style="color:#A1A3A4; width:90% ; border: 0.5px solid #0D2436;border-radius:8px" required>
            </div>
            <div class="d-flex justify-content-between" style="padding-left:2rem">
                <div>
                    <input type="checkbox" id="" name="" value="" onclick="myFunction()">
                    <label class="pt-3" style="padding-left:8px; font-family: source sans;" for="">
                        Show
                        Password
                    </label><br><br>
                </div>
                <div class="pt-3" style="padding-right: 2rem;">
                    <p style="float:right">
                        <a style="text-decoration: none;color:#081E57;font-family: source sans;"
                           href="/forget-password">Forget Password?</a>
                    </p>
                </div>
            </div>
            <div class="p-2" style="margin-left: 2rem;margin-right:2rem;">
                <button type="submit" class="btn-custom w-100 p-2"
                        style="border: transparent;background-color:#7BDF8A !important ;">
                    Login
                </button>
            </div>
            <!-- <div class="row w-75 text-center m-auto pt-3">
                 <hr class="col-5 mt-3">
                 <p class="col-2">or</p>
                 <hr class="col-5 mt-3">
            </div> -->
        </form>
    </section>
    <script src="https://code.jquery.com/jquery-3.7.1.js" integrity="sha256-eKhayi8LEQwp4NKxN+CfCh+3qOVUtJn3QNZ0TciWLP4=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/js/all.min.js"
            integrity="sha512-fD9DI5bZwQxOi7MhYWnnNPlvXdp/2Pj3XSTRrFs5FQa4mizyGLnJcN6tuvUS6LbmgN1ut+XGSABKvjN0H6Aoow=="
            crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.js"></script>
    @* <script>
    $(document).ready(() => {
    $('#spinner-loader').hide();
    });
    //function login() {
    $('#login-form').submit((e) => {
    e.preventDefault();
    $.ajax({
    type: 'POST',
    url: '/Auth/login',
    data: {
    email: $('#email').val(),
    password: $('#password').val()
    },
    success: function (data) {
    console.log('Function called . . .')
    if (data.email == 'No User found!'){
    alert('Email not found')
    }
    else if(data.email=='Email found!')
    alert('Login Sucessfully')
    window.location.href = '/index?email='+ $('#email').val();
    }
    });
    });
    </script>*@
    <script>
        $(document).ready(() => {
            $("#divLoader").hide();
        });
        $('#login-form').submit((e) => {
            e.preventDefault();
            let userObj = {
                email: $('#email').val(),
                password: $('#password').val(),
            }
            if (userObj?.email == '' || userObj?.email == undefined || userObj?.email == null
            ) {
                const Toast = Swal.mixin({
                    toast: true,
                    position: 'top-end',
                    showConfirmButton: false,
                    timer: 3000,
                    timerProgressBar: true,
                    didOpen: (toast) => {
                        toast.addEventListener('mouseenter', Swal.stopTimer)
                        toast.addEventListener('mouseleave', Swal.resumeTimer)
                    }
                })
                Toast.fire({
                    icon: 'error',
                    title: 'Please fill in the required fields!'
                })
            }
            else {
                $.ajax({
                    url: '/Home/authenticate',
                    method: 'POST',
                    data: userObj,
                    success: function (response) {
                        console.log(response)
                        if (response.email == "success") {
                            // Function to handle a successful response
                            $("#divLoader").show();
                            const Toast = Swal.mixin({
                                toast: true,
                                position: 'top-end',
                                showConfirmButton: false,
                                timer: 3000,
                                timerProgressBar: true,
                                didOpen: (toast) => {
                                    toast.addEventListener('mouseenter', Swal.stopTimer)
                                    toast.addEventListener('mouseleave', Swal.resumeTimer)
                                }
                            })
                            localStorage.setItem("username", userObj.email);
                            Toast.fire({
                                icon: 'success',
                                title: 'You Login Sucessfully'
                            });
                            setTimeout(() => {
                                window.location.href = '/Home/index';
                            }, 3000);
                        }
                        else {
                            const Toast = Swal.mixin({
                                toast: true,
                                position: 'top-end',
                                showConfirmButton: false,
                                timer: 3000,
                                timerProgressBar: true,
                                didOpen: (toast) => {
                                    toast.addEventListener('mouseenter', Swal.stopTimer)
                                    toast.addEventListener('mouseleave', Swal.resumeTimer)
                                }
                            })
                            Toast.fire({
                                icon: 'success',
                                title: 'Wrong Credientials'
                            });
                        }
                    },
                    error: function (error) {
                        $("#divLoader").hide();
                        // Function to handle errors
                        console.error('Request failed:', status, error);
                    }
                });
            }
        });
        function myFunction() {
            var x = document.getElementById("password");
            if (x.type === "password") {
                x.type = "text";
            } else {
                x.type = "password";
            }
        }
    </script>
</body>
</html>

